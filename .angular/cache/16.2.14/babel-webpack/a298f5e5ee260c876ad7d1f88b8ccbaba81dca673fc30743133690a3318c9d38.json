{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./encrypt-decrypt.service\";\nclass StorageServiceService {\n  constructor(encryptDecrypt) {\n    this.encryptDecrypt = encryptDecrypt;\n  }\n  setItemWithExpiry(key, value, ttl) {\n    // Set the item in localStorage\n    localStorage.setItem(key, this.encryptDecrypt.encryption(value));\n    // Set a timeout to remove it after ttl (in milliseconds)\n    setTimeout(() => {\n      localStorage.removeItem(key);\n      console.log(`${key} has been removed after ${ttl / 1000} seconds`);\n    }, ttl);\n  }\n  getItem(key) {\n    const value = localStorage.getItem(key);\n    if (value != null) {\n      return this.encryptDecrypt.encryption(value);\n    }\n    return null;\n  }\n  static #_ = this.ɵfac = function StorageServiceService_Factory(t) {\n    return new (t || StorageServiceService)(i0.ɵɵinject(i1.EncryptDecryptService));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: StorageServiceService,\n    factory: StorageServiceService.ɵfac,\n    providedIn: 'root'\n  });\n}\nexport { StorageServiceService };","map":{"version":3,"names":["StorageServiceService","constructor","encryptDecrypt","setItemWithExpiry","key","value","ttl","localStorage","setItem","encryption","setTimeout","removeItem","console","log","getItem","_","i0","ɵɵinject","i1","EncryptDecryptService","_2","factory","ɵfac","providedIn"],"sources":["D:\\angular\\MyFitness\\src\\app\\services\\storage-service.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { EncryptDecryptService } from './encrypt-decrypt.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StorageServiceService {\n\n  constructor( private encryptDecrypt:EncryptDecryptService) { }\n\n  setItemWithExpiry(key: string, value: string, ttl: number): void {\n    // Set the item in localStorage\n    localStorage.setItem(key, this.encryptDecrypt.encryption(value));\n\n    // Set a timeout to remove it after ttl (in milliseconds)\n    setTimeout(() => {\n      localStorage.removeItem(key);\n      console.log(`${key} has been removed after ${ttl / 1000} seconds`);\n    }, ttl);\n  }\n\n  getItem(key: string): string | null {\n    const value = localStorage.getItem(key)\n    if (value!=null) {\n      return this.encryptDecrypt.encryption(value);\n    }\n    return null;\n  }\n}\n"],"mappings":";;AAGA,MAGaA,qBAAqB;EAEhCC,YAAqBC,cAAoC;IAApC,KAAAA,cAAc,GAAdA,cAAc;EAA0B;EAE7DC,iBAAiBA,CAACC,GAAW,EAAEC,KAAa,EAAEC,GAAW;IACvD;IACAC,YAAY,CAACC,OAAO,CAACJ,GAAG,EAAE,IAAI,CAACF,cAAc,CAACO,UAAU,CAACJ,KAAK,CAAC,CAAC;IAEhE;IACAK,UAAU,CAAC,MAAK;MACdH,YAAY,CAACI,UAAU,CAACP,GAAG,CAAC;MAC5BQ,OAAO,CAACC,GAAG,CAAC,GAAGT,GAAG,2BAA2BE,GAAG,GAAG,IAAI,UAAU,CAAC;IACpE,CAAC,EAAEA,GAAG,CAAC;EACT;EAEAQ,OAAOA,CAACV,GAAW;IACjB,MAAMC,KAAK,GAAGE,YAAY,CAACO,OAAO,CAACV,GAAG,CAAC;IACvC,IAAIC,KAAK,IAAE,IAAI,EAAE;MACf,OAAO,IAAI,CAACH,cAAc,CAACO,UAAU,CAACJ,KAAK,CAAC;;IAE9C,OAAO,IAAI;EACb;EAAC,QAAAU,CAAA,G;qBArBUf,qBAAqB,EAAAgB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,qBAAA;EAAA;EAAA,QAAAC,EAAA,G;WAArBpB,qBAAqB;IAAAqB,OAAA,EAArBrB,qBAAqB,CAAAsB,IAAA;IAAAC,UAAA,EAFpB;EAAM;;SAEPvB,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}